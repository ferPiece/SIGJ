<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="starter">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<body>
	<div th:fragment="contenido">
<div th:replace="expediente/expediente_modal::modal_step"></div>

<div class="container">

  
</div>
		<div class="bd-example-row box-shadow">
			<ul class="nav nav-tabs">
				<!-- Standard button -->
				<li class="active"><a href="#menu1">Caso Judicial</a></li>
				<li ><a href="#menu3">Listado de Expedientes</a></li>
			</ul>

			<div  class="tab-content">

				<div id="menu1" class="tab-pane fade in active">
					<div class="box box-solid box-primary">
						<div class="box-header">
							<h3>Registro de Expediente</h3>
						</div>
						<div class="box-body" style="width: 99%; padding-left: 15px;">
						
						
						<div id="section_1" class="box-body">
						<button class="btn btn-success" id="botonAgregar"
								 onclick="openWorkflow()">
								<i class="glyphicon glyphicon-plus"></i> Agregar Juicio
							</button>
							<br><br>
						
						<div class="col-lg-12 col-sm-12">
							<div class="box box-primary">
							  <div class="box-header with-border">
							    <h3 class="box-title">Demandante - Demandado</h3>
							    <div class="box-tools pull-right">
							      <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
							    </div><!-- /.box-tools -->
							  </div><!-- /.box-header -->
							  <div class="box-body">
							  <div class="form-group hidden-xs col-sm-4 col-lg-4">
								<div class="box">
									<div class="box-header with-border">
										<h3 class="box-title">Tipo de Parte</h3>
									</div>
									<!-- /.box-header -->
									<div class="box-body">
										<div class="radio">
											<label><input name="tipo_cliente" id = "tipo_cliente_demandante" type="radio" value="D">
											DEMANDANTE </label>
										
											<label> <input name="tipo_cliente" id="tipo_cliente_demandado" type="radio" value="C">DEMANDADO
											</label>
										</div>
									</div>
									<!-- /.box-body -->
								</div>
								<!-- /.box -->
								</div>
								
								<div class="form-group hidden-xs col-sm-6 col-lg-6">
									<div class="box">
										<div class="box-header with-border">
											<h3 class="box-title">Cédula, Nombre o Apellido</h3>
										</div>
										<!-- /.box-header -->
										<div class="box-body">
										<div class="input-group">
									      <input type="text" id="buscar_parte_cliente" class="form-control">
									      <span class="input-group-btn">
									        <button class="btn btn-info" id="btn_buscar_parteC" type="button" onclick="buscar_parte('C')">Buscar</button>
									      </span>
									    </div>
											
										</div>
										<!-- /.box-body -->
									</div>
									<!-- /.box -->
								</div>
							
							   <div class="col-xs-12 col-sm-12">
								   <div id="modal_spinner"></div>
								   <div id="div-result_cliente" class="hidden"></div>
									<div class="clearfix"></div>
									<div id="error-cliente" class="hidden alert alert-danger" role="alert">
												<span class="glyphicon glyphicon-exclamation-sign"
													aria-hidden="true"></span> <span class="sr-only">Error:</span>
												<span class="error-cliente"></span> 
									</div>
								</div>
								<!--SECCION ABOGADOS  -->
								<div class="form-group hidden-xs col-sm-4 col-lg-4">
								    <div class="box">
										<div class="box-header with-border">
											<h3 class="box-title">Tipo de Abogado</h3>
										</div>
										<!-- /.box-header -->
										<div class="box-body">
											<div class="radio">
												<label><input name="tipo_abogado" id = "tipo_abogado_apoderado" type="radio" value="AP">APODERADO 
												</label>
											
												<label> <input name="tipo_abogado" id="tipo_abogado_contraparte" type="radio" value="CO"> CONTRAPARTE
												</label>
											</div>
										</div>
										<!-- /.box-body -->
									</div>
									<!-- /.box -->
								</div>
								<div class="form-group hidden-xs col-sm-6 col-lg-6">
									<div class="box">
										<div class="box-header with-border">
											<h3 class="box-title">Cédula, Nombre o Apellido</h3>
										</div>
										<!-- /.box-header -->
										<div class="box-body">
											<div class="input-group">
										      <input type="text" id="buscar_parte_abogado" class="form-control">
										      <span class="input-group-btn">
										        <button class="btn btn-info" id="btn_buscar_parteA" type="button" onclick="buscar_parte('A')">Buscar</button>
										      </span>
										    </div>
											
										</div>
										<!-- /.box-body -->
									</div>
									<!-- /.box -->
								</div>
								<div class="col-xs-12 col-sm-12">
								   <div id="modal_spinner"></div>
								   
								   
								   <div id="div-result_cliente" class="hidden"></div>
									<div class="clearfix"></div>
									<div id="error-cliente" class="hidden alert alert-danger" role="alert">
												<span class="glyphicon glyphicon-exclamation-sign"
													aria-hidden="true"></span> <span class="sr-only">Error:</span>
												<span class="error-cliente"></span> 
									</div>
								   
								   <div id="div-result_abogado" class="hidden"></div>
								   <div class="clearfix"></div>
									<div id="error-abogado" class="hidden alert alert-danger" role="alert">
										<span class="glyphicon glyphicon-exclamation-sign"
												aria-hidden="true"></span> <span class="sr-only">Error:</span>
												<span class="error-abogado"></span>
									</div>
								</div>
							  </div><!-- /.box-body -->
							</div><!-- /.box -->
						</div>
						<div class="col-xs-12 col-sm-12">
						   <div id="modal_spinner"></div>
						   <div id="div-error-general" class="hidden"></div>
						   <div class="clearfix"></div>
							<div id="error-general" class="hidden alert alert-danger" role="alert">
								<span class="glyphicon glyphicon-exclamation-sign"
										aria-hidden="true"></span> <span class="sr-only">Error:</span>
								<span class="error-general"></span>
							</div>
						</div>
						<div class="col-lg-12 col-sm-12">
							<div class="box box-primary">
							  <div class="box-header with-border">
							    <h3 class="box-title">Partes Agregadas</h3>
							    <div class="box-tools pull-right">
							      <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-plus"></i></button>
							    </div><!-- /.box-tools -->
							  </div><!-- /.box-header -->
							  <div class="box-body">
							  
							   <div class="col-xs-12 col-sm-12">
									<table
										class="table table-bordered table-hover table-striped display table-esp col-xs-12 no-padding"
										id="partesDT">
										<thead>
											<tr>
												<!--  <th th:each=" col : ${columnasPersona}" th:text="${col}">colum1</th>-->
												<th></th>
												<th>Id</th>
												<th>Tipo</th>
												<th>Nombre o Razón Social</th>
												<th>Cédula</th>
											</tr>
										</thead>
										<tbody id="tbody_partes">
										
										</tbody>
									</table>
								</div>
								<input type="hidden" id="o-apoderado" ></input> 
			                    <label type="hidden" id="o-contraparte" ></input> 
			                    <label type="hidden" id="o-demandado" ></input> 
			                    <label type="hidden" id="o-demandante"  ></input>
							  </div><!-- /.box-body -->
							</div><!-- /.box -->
						</div>
						
						<div th:replace="expediente/expediente_caratula::catarula_frag"></div>
			
							<div class="row">
								<div class="col-xs-8">
								</div>
								<div class="col-xs-4">
								<a class="btn btn-siguiente btn-estilo" onclick="registrar_expediente()">
  									 SIGUIENTE <i class="fa fa-chevron-right" aria-hidden="true"></i></a>
  									 
								</div>
							</div>
						</div>
						<div id="expediente_section_2" class="hidden"></div>
					</div>
					</div>
				</div>

				<!--LISTADO DE EXPEDIENTES  -->
				<div id="menu3" class="tab-pane fade">
					<div class="box box-solid box-primary">
						<div class="box-header">
							<h3>Partes</h3>
						</div>
						<div class="box-body">

							<table
								class="table table-bordered table-hover table-striped display"
								id="expedienteDT">
								<thead>
									<tr>
										<th th:each=" col : ${columnas}" th:text="#{${col}}">colum1</th>
										<th>Accion</th>
									</tr>
								</thead>
							</table>
							<script type="text/javascript">
							 $(document).ready(function() {
								 crearDataTable("expedienteDT", "[[@{/expediente/json}]]", "[[${columnasStr}]]", "[[@{/expediente/edit/}]]");
								 $("button.eliminar_parte").on("click",function (event) {
									    event.preventDefault();
									    eliminar_parte($(this).val());
									    $(this).closest('tr').remove();
									   
									});

								
							 });
			 			</script>
						</div>
					</div>
				</div>
			</div>
			
		</div>
		
		<script>
				$(document).ready(function(){
				    $(".nav-tabs a").click(function(){
				        $(this).tab('show');
				    });
				    var abogados = [];
				    var clientes = [];
				    $("#buscar_parte_cliente").enterKey(function () {
				    	$('#btn_buscar_parteC').click();
				    });
				    $("#buscar_parte_abogado").enterKey(function () {
				    	$('#btn_buscar_parteA').click();
				    });
				});
			</script>

	</div>
</body>
</html>
